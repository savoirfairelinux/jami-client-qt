{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "23da1074_1da07fc4",
        "filename": "src/app/crashreportclients/crashpad.cpp",
        "patchSetId": 25
      },
      "lineNbr": 224,
      "author": {
        "id": 1035
      },
      "writtenOn": "2024-10-28T15:56:29Z",
      "side": 1,
      "message": "GetPendingReports -\u003e GetCompletedReports",
      "range": {
        "startLine": 224,
        "startChar": 37,
        "endLine": 224,
        "endChar": 54
      },
      "revId": "afb2353a1650ca2e7839ccba65496b4a580bebee",
      "serverId": "1e26b4c1-6b8c-47ff-9df7-501b633d3b5a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "398661c1_9135b3e6",
        "filename": "src/app/crashreportclients/crashpad.cpp",
        "patchSetId": 25
      },
      "lineNbr": 224,
      "author": {
        "id": 90
      },
      "writtenOn": "2025-01-10T16:52:01Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "23da1074_1da07fc4",
      "range": {
        "startLine": 224,
        "startChar": 37,
        "endLine": 224,
        "endChar": 54
      },
      "revId": "afb2353a1650ca2e7839ccba65496b4a580bebee",
      "serverId": "1e26b4c1-6b8c-47ff-9df7-501b633d3b5a"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "86d7b5f8_ad106998",
        "filename": "src/app/crashreportclients/crashpad.cpp",
        "patchSetId": 25
      },
      "lineNbr": 224,
      "author": {
        "id": 90
      },
      "writtenOn": "2025-01-10T23:33:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "398661c1_9135b3e6",
      "range": {
        "startLine": 224,
        "startChar": 37,
        "endLine": 224,
        "endChar": 54
      },
      "revId": "afb2353a1650ca2e7839ccba65496b4a580bebee",
      "serverId": "1e26b4c1-6b8c-47ff-9df7-501b633d3b5a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e1e5fc47_8f7a1557",
        "filename": "src/app/crashreportclients/crashpad.cpp",
        "patchSetId": 25
      },
      "lineNbr": 249,
      "author": {
        "id": 1035
      },
      "writtenOn": "2024-10-28T15:56:29Z",
      "side": 1,
      "message": "I think there\u0027s a race condition here. When `RequestUpload` is called, the report is put in the \"pending\" state. After `startHandler` is called, the report is eventually uploaded and put back in the \"completed\" state. However, it\u0027s possible for the report to still be in the \"pending\" state when `GetCompletedReports` is called by `clearAllReports`, which means the report won\u0027t be in the list returned by `GetCompletedReports` and therefore won\u0027t get deleted.",
      "range": {
        "startLine": 249,
        "startChar": 4,
        "endLine": 249,
        "endChar": 38
      },
      "revId": "afb2353a1650ca2e7839ccba65496b4a580bebee",
      "serverId": "1e26b4c1-6b8c-47ff-9df7-501b633d3b5a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aae33b6e_dc0cc2d8",
        "filename": "src/app/crashreportclients/crashpad.cpp",
        "patchSetId": 25
      },
      "lineNbr": 249,
      "author": {
        "id": 90
      },
      "writtenOn": "2025-01-10T16:52:01Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "e1e5fc47_8f7a1557",
      "range": {
        "startLine": 249,
        "startChar": 4,
        "endLine": 249,
        "endChar": 38
      },
      "revId": "afb2353a1650ca2e7839ccba65496b4a580bebee",
      "serverId": "1e26b4c1-6b8c-47ff-9df7-501b633d3b5a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "27f0a4b1_801cfa56",
        "filename": "src/app/crashreportclients/crashpad.cpp",
        "patchSetId": 25
      },
      "lineNbr": 249,
      "author": {
        "id": 90
      },
      "writtenOn": "2025-01-10T23:33:23Z",
      "side": 1,
      "message": "Proposed solution: wait some time for the report to be uploaded by checking either completed or pending reports for the UUID and verifying `report.uploaded` in a busy-wait loop for up to 1 second.",
      "parentUuid": "aae33b6e_dc0cc2d8",
      "range": {
        "startLine": 249,
        "startChar": 4,
        "endLine": 249,
        "endChar": 38
      },
      "revId": "afb2353a1650ca2e7839ccba65496b4a580bebee",
      "serverId": "1e26b4c1-6b8c-47ff-9df7-501b633d3b5a"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d52edc8d_5fefa0c1",
        "filename": "src/app/crashreportclients/crashpad.cpp",
        "patchSetId": 25
      },
      "lineNbr": 249,
      "author": {
        "id": 90
      },
      "writtenOn": "2025-01-13T19:28:46Z",
      "side": 1,
      "message": "bumped it to 3 seconds (based on Windows testing) and simplified",
      "parentUuid": "27f0a4b1_801cfa56",
      "range": {
        "startLine": 249,
        "startChar": 4,
        "endLine": 249,
        "endChar": 38
      },
      "revId": "afb2353a1650ca2e7839ccba65496b4a580bebee",
      "serverId": "1e26b4c1-6b8c-47ff-9df7-501b633d3b5a"
    }
  ]
}